<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>An Introduction to Linear Algebra in q</title>
    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="../javascripts/respond.js"></script>
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        styles: {
          ".MathJax": {
            color: "#F0E7D5"
          }
        }
      });
    </script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="../stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
    <div class="leftnav">
      <ul>
        <li><a href="#">Post 3</a></li>
        <li><a href="http://jpneill.github.io/posts/Lin_Reg.html">Post 2</a></li>
      </ul>
    </div>
    <div id="header">
        <nav class="postheader">
          <li class="fork"><a href="http://jpneill.github.io/index.html">Home</a></li>
          <li class="fork"><a href="https://github.com/jpneill">GitHub</a></li>
          <!--<li class="fork"><a href="http://jpneill.github.io/pages/worldgen.html">World Generator!</a></li>-->
          <li class="fork"><a href="http://jpneill.github.io/kdb_blog.html">kdb+</a></li>
        </nav>
    </div><!-- end header -->
    <div class="rightpost">
    <div class="wrapper">
      <section>
        <div id="title">
          <h1>Elementary Cellular Automata in q</h1>
          <hr>
          <span class="credits left">James Neill</span>
          <span class="credits right">07/09/2015</span>
        </div>
        <h3>Cellular Automata</h3>
          <p>A cellular automaton (automata is the plural of automaton) is compoased of a grid of cells, each of which is in one of several possible discrete states. For example a cell can be either 1 or 0/on or off/red, green or blue/etc. An initial state, generation 0, is applied to each cell in the automaton. Further generations are generated by applying a predetermined ruleset to each of the cells in the grid which may cause a change in state. A ruleset takes into account the cell the ruleset is being applied to and a neighbourhood of cells around that cell. For example, in a 2D automaton, a Von Neuman neighbourhood ruleset has the center (target cell), north, south, east abd west cells. A Moore neighbourhood consists of the target cell and all adjacent cells.</p>
        <figure class="cdiag">
          <p><img src="../images/VN_M_Neighbourhoods.PNG" alt="Von Neuman and Moor Neighbourhoods"></p>
          <p>Figure 1 - (a) The Moore neighbourhood of the blue cell. (b) The Von Neuman neighbourhood of the blue cell.</p>
        </figure>
        <figure class="cdiag">
          <p><img src="../images/Gospers_glider_gun.gif" alt="Gosper glider gun"></p>
          <p>Figure 2 - Gosper glider gun. A 2D cellular automaton - <a href="https://en.wikipedia.org/wiki/Gun_(cellular_automaton)">Image source on wikipedia</a></p>
        </figure>
        <h3>Elementary Cellular Automata</h3>
        <p>An elementary cellular automaton is a one dimensional cellular automaton where each cell can only be 1 or 0 and the next generation is determined by a ruleset which is applied to the target cell and its two immediate neighbours.</p>
        <figure class="cdiag">
          <p><img src="../images/ECA_rule_example.png" alt="Example elementary cellular automaton"></p>
          <p>Figure 3 - (a) An example elementary cellular automaton. (b) Neighbourhod of blue cell highlighted in red.</p>
        </figure>
        <p>Since cells can either be 1 or 0 the target cell and its neighbourhood have a total of 2<sup>3</sup> = 8 possible configurations. Each of these configurations must result in the target cell being either a 1 or a 0 in the next generation which means that there are 2<sup>8</sup> = 256 possible rules for an elementary cellular automaton.</p>
        <figure class="cdiag">
          <p><img src="" alt="Elementary CA rule 90."></p>
          <p>Figure 4 - Elementary cellular automata rule 90.</p>
        </figure>
        <h3>q Implementation</h3>
        <p>In order to implement elementary cellular automata in q we first need a way to convert a decimal number into binary. We can accomplish this by dividing the number by two then recording both the remainder (which will be 0 or 1) and the result. Then repeat for the result until the final result is 0. The binary number is all the recorded remainders written down from right to left. E.g for 6: $$\begin{align}\frac{6}{2}&=3\text{ rem }0\\\frac{3}{2}&=1\text{ rem }1\\\frac{1}{2}&=0\text{ rem }1\end{align}$$ Our remainders are 110 from right (bottom) to left (top) which is binary for 6. In q we create the decimal to binary function:</p>
<pre><code>q)dtb:{1_reverse((div[;2]\)x) mod 2}</code></pre>
        <p>We can now create a function which will output an 8 element list of 1s and 0s that we can apply to an elementary cellular automaton (we reverse here because of the way we apply the rule later):</p>
<pre><code>q)constructRule:{reverse #[8-count a;0],a:dtb x}</code></pre>
      </section>
    </div>
    </div>
      
      <!--[if !IE]><script>fixScale(document);</script><![endif]-->
  </body>
</html>
